extends ../../layout/default.pug
include  ../../mixins/search.pug
include  ../../mixins/filter-status.pug
block main
  .container
    .card.custom-card
      .card-header
        h3 Danh sÃ¡ch Ä‘oÌng phiÌ
      .card-body
        .controls.mb-3
          .left
            a.btn-new(href='/payment/add') + Táº O LÆ¯Æ Ì£T ÄOÌNG PHIÌ Má»šI
            +filter-status(filterStatus)
          .right
            //- +search(keyword)
        .table-scroll
          table.table-custom
            thead
              tr
                th #
                th TÃªn khoaÌ‰n phiÌ
                th TÃªn ngÆ°Æ¡Ì€i Ä‘oÌng phiÌ
                th NgaÌ€y Ä‘oÌng phiÌ
                th Tráº¡ng thÃ¡i
            tbody
              each val, index in payments
                tr
                  td #{index+1}
                  td #{val.fee.name}
                  td #{val.payer.fullName}
                  td= val.paidDate? val.paidDate.toLocaleDateString("vi-VN") : ""
                  td
                    - var cls = val.status=='ÄaÌƒ Ä‘oÌng' ? 'status-approved' : (val.status=='ÄoÌng mÃ´Ì£t phÃ¢Ì€n' ? 'status-blocked' : 'status-rejected')
                    span.status-dot(class=cls)
                    | #{val.status}
                  td
                    a(href='/payment/' + val._id, title='Xem') ğŸ”
                    a.ml-2(href=`/payment/edit/${val._id}`, title='Sá»­a') âœï¸
                    form.delete-form(method="POST", action=`/payment/delete/${val._id}`)
                      button.delete-button(type="submit" title='XÃ³a') ğŸ—‘ï¸
        