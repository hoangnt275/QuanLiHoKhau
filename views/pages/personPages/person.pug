extends ../../layout/default.pug
include  ../../mixins/search.pug
include  ../../mixins/filter-status.pug
block main
  .container
    .card.custom-card
      .card-header
        h3 Danh sÃ¡ch nhÃ¢n khÃ¢Ì‰u
      .card-body
        .controls.mb-3
          .left
            a.btn-new(href='/person/add') + Táº O NHÃ‚N KHÃ‚Ì‰U Má»šI
            +filter-status(filterStatus)
          .right
            +search(keyword)
        .table-scroll
          table.table-custom
            thead
              tr
                th #
                th HoÌ£ vaÌ€ tÃªn
                th SÃ´Ì CMND/CCCD
                th GiÆ¡Ìi tiÌnh  
                th NgaÌ€y sinh
                th Tráº¡ng thÃ¡i
                th HÃ nh Ä‘á»™ng
            tbody
              each val, index in persons
                tr
                  td #{index+1}
                  td #{val.fullName}
                  td #{val.cccd}
                  td #{val.genderLabel}
                  td= val.dateOfBirth ? val.dateOfBirth.toLocaleDateString("vi-VN") : ""
                  td
                    - var cls = val.status=='ThÆ°Æ¡Ì€ng truÌ' ? 'status-approved' : (val.status=='TaÌ£m truÌ' ? 'status-blocked' : 'status-rejected')
                    span.status-dot(class=cls)
                    | #{val.status}
                  td
                    a(href='/person/' + val.cccd, title='Xem') ğŸ”
                    a.ml-2(href=`/person/edit/${val.cccd}`, title='Sá»­a') âœï¸
                    form.delete-form(method="POST", action=`/person/delete/${val.cccd}`)
                      button.delete-button(type="submit" title='XÃ³a') ğŸ—‘ï¸
        
