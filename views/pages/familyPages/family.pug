extends ../../layout/default.pug
include  ../../mixins/search.pug
include  ../../mixins/filter-status.pug
block main
  .container
    .card.custom-card
      .card-header
        h3 Danh sÃ¡ch há»™ gia Ä‘Ã¬nh
      .card-body
        .controls.mb-3
          .left
            a.btn-new(href='/family/add') + Táº O Há»˜ Má»šI
            +filter-status(filterStatus)
          .right
            +search(keyword)
        .table-scroll
          table.table-custom
            thead
              tr
                th #
                th MÃ£ há»™
                th Chá»§ há»™
                th Äá»‹a chá»‰
                th Sá»‘ thÃ nh viÃªn
                th Tráº¡ng thÃ¡i
                th HÃ nh Ä‘á»™ng
            tbody
              each val, index in families
                tr
                  td #{index+1}
                  td #{val.code}
                  td #{val.head.fullName}
                  td #{val.address}
                  td #{val.members.length}
                  td
                    - var cls = val.status=='Äang quáº£n lÃ½' ? 'status-approved' : (val.status=='Táº¡m khÃ³a' ? 'status-blocked' : 'status-rejected')
                    span.status-dot(class=cls)
                    | #{val.status}
                  td
                    a(href='/family/' + val.code, title='Xem') ğŸ”
                    a.ml-2(href='/family/edit/'+ val.code , title='Sá»­a') âœï¸
                    form.delete-form(method="POST", action=`/family/delete/${val.code}`)
                      button.delete-button(type="submit" title='XÃ³a') ğŸ—‘ï¸
        
